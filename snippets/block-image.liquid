{{ 'component-block-image.css' | asset_url | stylesheet_tag }}
{% style %}
  .block-media--{{ block.id }} {
    {% if block.settings.image_radius == 'default' %}
    --block-image-radius: {{ settings.images_and_sections_radius }};
    {% else %}
    --block-image-radius: {{ block.settings.image_radius }};
    {% endif %}
  }
{% endstyle %}
{%- if block.settings.desktop_image != blank -%}
    {%- if block.settings.image_link != blank -%}<a href="{{ block.settings.image_link }}" {% if block.settings.target_blank %}target="_blank"{% endif %} class="block-media block-media--{{ block.id }} block-media--desktop {% unless block.settings.mobile_image != blank %} block-media--all {% endunless %} ratio-{{ block.settings.desktop_image_ratio }} {% if block.settings.mobile_image == blank %}mobile-ratio-{{ block.settings.mobile_image_ratio }}{% endif %}" {% if settings.disable_right_click %}oncontextmenu="return false"{% endif %} {{ block.shopify_attributes }}>
    {%- else -%}<div class="block-media block-media--{{ block.id }} block-media--desktop {% unless block.settings.mobile_image != blank %} block-media--all {% endunless %} ratio-{{ block.settings.desktop_image_ratio }} {% if block.settings.mobile_image == blank %}mobile-ratio-{{ block.settings.mobile_image_ratio }}{% endif %}" {% if settings.disable_right_click %}oncontextmenu="return false"{% endif %} {{ block.shopify_attributes }}>
    {%- endif -%}
            <img srcset="{%- if block.settings.desktop_image.width >= 165 -%}{{ block.settings.desktop_image | image_url: width: 165 }} 165w,{%- endif -%}
              {%- if block.settings.desktop_image.width >= 375 -%}{{ block.settings.desktop_image | image_url: width: 375 }} 375w,{%- endif -%}
              {%- if block.settings.desktop_image.width >= 550 -%}{{ block.settings.desktop_image | image_url: width: 550 }} 550w,{%- endif -%}
              {%- if block.settings.desktop_image.width >= 750 -%}{{ block.settings.desktop_image | image_url: width: 750 }} 750w,{%- endif -%}
              {%- if block.settings.desktop_image.width >= 1100 -%}{{ block.settings.desktop_image | image_url: width: 1100 }} 1100w,{%- endif -%}
              {%- if block.settings.desktop_image.width >= 1500 -%}{{ block.settings.desktop_image | image_url: width: 1500 }} 1500w,{%- endif -%}
              {%- if block.settings.desktop_image.width >= 1780 -%}{{ block.settings.desktop_image | image_url: width: 1780 }} 1780w,{%- endif -%}
              {%- if block.settings.desktop_image.width >= 2000 -%}{{ block.settings.desktop_image | image_url: width: 2000 }} 2000w,{%- endif -%}
              {%- if block.settings.desktop_image.width >= 3000 -%}{{ block.settings.desktop_image | image_url: width: 3000 }} 3000w,{%- endif -%}
              {{ block.settings.desktop_image | image_url }} {{ block.settings.desktop_image.width }}w" src="{{ block.settings.desktop_image | image_url: width: 1500 }}"
              {% if section.settings.section_width == 'narrow' %}
                sizes="calc(960px * 1)"
              {% else %}
                sizes="calc(100vw * 1)"
              {% endif %}
              alt="{{ block.settings.desktop_image.alt | escape }}" 
              src="{{ block.settings.desktop_image | image_url: width: 1500 }}"
              loading="lazy"
              draggable="false" 
              width="{{ block.settings.desktop_image.width }}" 
              height="{{ block.settings.desktop_image.height }}" 
              class="block-media__image block-media__image--desktop"
              style="object-position: {{ block.settings.desktop_image.presentation.focal_point }};">
    {%- if block.settings.image_link != blank -%}</a>{%- else -%}</div>{%- endif -%}
{%- endif -%}
{%- if block.settings.mobile_image != blank -%}
    {%- if block.settings.image_link != blank -%}<a href="{{ block.settings.image_link }}" {% if block.settings.target_blank %}target="_blank"{% endif %} class="block-media block-media--{{ block.id }} {% if block.settings.desktop_image != blank %}block-media--mobile{% endif %} mobile-ratio-{{ block.settings.mobile_image_ratio }} ratio-{{ block.settings.desktop_image_ratio }}" {% if settings.disable_right_click %}oncontextmenu="return false"{% endif %} {{ block.shopify_attributes }}>
    {%- else -%}<div class="block-media block-media--{{ block.id }} {% if block.settings.desktop_image != blank %}block-media--mobile{% endif %} mobile-ratio-{{ block.settings.mobile_image_ratio }} ratio-{{ block.settings.desktop_image_ratio }}" {% if settings.disable_right_click %}oncontextmenu="return false"{% endif %} {{ block.shopify_attributes }}>
    {%- endif -%}
      <img
          srcset="{%- if block.settings.mobile_image.width >= 165 -%}{{ block.settings.mobile_image | image_url: width: 165 }} 165w,{%- endif -%}
          {%- if block.settings.mobile_image.width >= 375 -%}{{ block.settings.mobile_image | image_url: width: 375 }} 375w,{%- endif -%}
          {%- if block.settings.mobile_image.width >= 550 -%}{{ block.settings.mobile_image | image_url: width: 550 }} 550w,{%- endif -%}
          {%- if block.settings.mobile_image.width >= 750 -%}{{ block.settings.mobile_image | image_url: width: 750 }} 750w,{%- endif -%}
          {%- if block.settings.mobile_image.width >= 1100 -%}{{ block.settings.mobile_image | image_url: width: 1100 }} 1100w,{%- endif -%}
          {%- if block.settings.mobile_image.width >= 1500 -%}{{ block.settings.mobile_image | image_url: width: 1500 }} 1500w,{%- endif -%}
          {%- if block.settings.mobile_image.width >= 1780 -%}{{ block.settings.mobile_image | image_url: width: 1780 }} 1780w,{%- endif -%}
          {%- if block.settings.mobile_image.width >= 2000 -%}{{ block.settings.mobile_image | image_url: width: 2000 }} 2000w,{%- endif -%}
          {%- if block.settings.mobile_image.width >= 3000 -%}{{ block.settings.mobile_image | image_url: width: 3000 }} 3000w,{%- endif -%}
            {{ block.settings.mobile_image | image_url }} {{ block.settings.mobile_image.width }}w"
          {% if section.settings.section_width == 'narrow' %}
            sizes="calc(960px * 1)"
          {% else %}
            sizes="calc(100vw * 1)"
          {% endif %}
          class="block-media__image block-media__image--mobile"
          src="{{ block.settings.mobile_image | image_url: width: 750 }}"
          loading="lazy"
          draggable="false"
          alt="{{ block.settings.mobile_image.alt | escape }}"
          width="{{ block.settings.mobile_image.width }}"
          height="{{ block.settings.mobile_image.width | divided_by: block.settings.mobile_image.aspect_ratio }}"
          style="object-position: {{ block.settings.mobile_image.presentation.focal_point }};">
    {%- if block.settings.image_link != blank -%}</a>{%- else -%}</div>{%- endif -%}
{%- endif -%}
{%- if block.settings.desktop_image == blank and block.settings.mobile_image == blank -%}
    {%- if block.settings.image_link != blank -%}<a href="{{ block.settings.image_link }}" {% if block.settings.target_blank %}target="_blank"{% endif %} class="block-media block-media--{{ block.id }} block-media--desktop {% unless block.settings.mobile_image != blank %} block-media--all {% endunless %} ratio-{{ block.settings.desktop_image_ratio }}" {{ block.shopify_attributes }}>
    {%- else -%}<div class="block-media block-media--{{ block.id }} block-media--desktop {% unless block.settings.mobile_image != blank %} block-media--all {% endunless %} ratio-{{ block.settings.desktop_image_ratio }} mobile-ratio-{{ block.settings.mobile_image_ratio }}" {{ block.shopify_attributes }}>
    {%- endif -%} 
      {{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}
      {%- if block.settings.image_link != blank -%}</a>
      {%- else -%}</div>
      {%- endif -%}
{% endif %}